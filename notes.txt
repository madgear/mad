
// Get the Summernote editor element
var summernoteEditor = $('#summernote');

// Get the current selection and range within the editor
var selection = window.getSelection();
var range = selection.getRangeAt(0);

// Get the HTML element at the cursor position
var elementAtCursor = range.startContainer;

// You can now work with the 'elementAtCursor' as needed
console.log(elementAtCursor);




<div id="customPopover" style="display: none;">
    <!-- Content for your popover -->
    <p>This is a custom popover for div elements.</p>
    <!-- You can add more content and styling here -->
</div>



$('#summernote').summernote({
    callbacks: {
        onInit: function() {
            // Add click event listener to div elements within the editor
            $(this).on('click', 'div', function(event) {
                event.preventDefault();
                event.stopPropagation();
                // Get the position of the clicked div
                var divPosition = $(this).offset();

                // Show the custom popover at the div's position
                $('#customPopover').css({
                    top: divPosition.top + 'px',
                    left: divPosition.left + 'px',
                    display: 'block'
                });
            });
        }
    }
});


#customPopover {
    position: absolute;
    background-color: #ffffff;
    border: 1px solid #ccc;
    padding: 10px;
    z-index: 9999;
    /* Add more styling as needed */
}


// Assuming you have initialized the Summernote editor as shown before

// Add a class to the selected div element
function addClassToDiv(className) {
    // Get the currently selected element within the editor
    var selectedElement = $('#summernote').summernote('focus').summernote('editable').find('.note-editing-area :first-child');

    // Check if the selected element is a div
    if (selectedElement.is('div')) {
        // Add the specified class to the div element
        selectedElement.addClass(className);
    }
}

// Example usage: Call the function with the desired class name
addClassToDiv('your-custom-class');
